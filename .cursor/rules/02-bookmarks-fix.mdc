---
# Bookmarks Fix Rule

## Purpose
Update VS Code bookmarks.json file to synchronize bookmark line numbers with actual function definition locations in source code.

## When to Use
- When bookmark line numbers are outdated due to code changes
- When bookmarks point to incorrect line numbers after refactoring
- When asked to "update bookmarks" or "fix bookmarks"

## Process

### 1. Identify Target Functions
Extract function names from bookmark labels in `.vscode/bookmarks.json`

### 2. Search for Function Definitions
Use `grep_search` with appropriate patterns:
- `void FunctionName\(\)` for void functions
- `int FunctionName\(\)` for int functions  
- `FunctionName\(` for general function searches
- Include file patterns: `*.mq5`, `*.cpp`, `*.js`, etc.

### 3. Collect Accurate Line Numbers
For each function, note the exact line number where the definition appears

### 4. Update bookmarks.json
- Modify ONLY the `"line"` values
- Keep `"column"` and `"label"` values unchanged
- Update all bookmarks in a single edit operation

## Example Format
```json
{
    "line": 687,              // ← Update this to match actual line
    "column": 0,              // ← Keep unchanged  
    "label": "DoAutoTrade()"  // ← Keep unchanged
}
```

## Key Considerations
- Search each function individually for accuracy
- Use parallel grep searches when possible for efficiency
- Verify function signatures match exactly (parentheses, return types)
- Handle multiple files if bookmarks span different source files

## Tool Sequence
1. `grep_search` for each function (parallel when possible)
2. `edit_file` to update entire bookmarks.json with corrected line numbers

This ensures bookmark navigation accuracy after code modifications.
---
